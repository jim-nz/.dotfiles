#########################
## Setup
#########################

# autostart
exec_always --no-startup-id polybar-reload
exec --no-startup-id set-wallpaper

# aliases
set $alt Mod1
set $cmd Mod4

# mouse drags floating windows with this
floating_modifier $cmd 

# window design
new_window pixel 2
new_float normal

# title font, also used by bar unless another is specified
font pango:Dejavu Sans 9

# make pop-ups (hangouts etc.) float
for_window [window_role="pop-up"] floating enable

# tomorrow colours (except blue)
set $blue   #81a2be
set $red    #cc6666
set $green  #b5bd68
set $yellow #f0c674
set $purple #b294bb
set $cyan   #8abeb7
set $orange #de935f
set $black  #1d1f21
set $dgrey  #373b41
set $grey   #969896
set $lgrey  #b4b7b4
set $white  #e0e0e0

# states                    border     background  text
client.focused              $blue      $blue       $black
client.unfocused            $black     $dgrey      $lgrey
client.focused_inactive     $grey      $grey       $black
client.urgent               $purple    $purple     $white


#########################
## General keybindings
#########################

# lock screen
bindsym ctrl+$alt+l exec --no-startup-id i3lock -n -c 000000 -i ~/.lockscreen.jpg

# screenshot
bindsym --release Print exec --no-startup-id scrot -s

# WM mode
bindsym ctrl+space mode "WM"

mode "WM" {

	bindsym Escape mode "default"

	# vertical split (i3 calls this h)
	bindsym bar split h

	# horizontal split (i3 calls this v)
	bindsym minus split v

	# focus the parent container
	bindsym p focus parent

	# focus the child container
	bindsym c focus child

	# resize
	bindsym Left resize shrink width 10 px or 10 ppt
	bindsym Down resize grow height 10 px or 10 ppt
	bindsym Up resize shrink height 10 px or 10 ppt
	bindsym Right resize grow width 10 px or 10 ppt

	# reload config file
	bindsym r reload; mode "default"

	# restart i3
	bindsym shift+r restart; mode "default"

	# exit i3
	bindsym q exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"; mode "default"

	# start a terminal command
	bindsym Return exec --no-startup-id termite; mode "default"

	# make currently focused window a scratchpad
	bindsym Shift+semicolon move scratchpad; mode "default"

	# show first scratchpad window
	bindsym semicolon scratchpad show; mode "default"

	# change window focus
	bindsym h focus left; mode "default"
	bindsym j focus down; mode "default"
	bindsym k focus up; mode "default"
	bindsym l focus right; mode "default"

	# move window
	bindsym Shift+h move left; mode "default"
	bindsym Shift+j move down; mode "default"
	bindsym Shift+k move up; mode "default"
	bindsym Shift+l move right; mode "default"

	# move current workspace to next output
	bindsym x move workspace to output right; mode "default"

	# enter fullscreen mode for the focused container
	bindsym f fullscreen; mode "default"

	# change container layout
	bindsym t layout tabbed; mode "default"
	bindsym s layout toggle split; mode "default"

	# toggle tiling / floating
	bindsym Shift+Tab floating toggle; mode "default"

	# change focus between tiling / floating windows
	bindsym Tab focus mode_toggle; mode "default"

	# re-run automatic scripts
	bindsym m exec --no-startup-id autorun-scripts; mode "default"

	# HDMI sound toggle
	bindsym a exec --no-startup-id hdmi-sound; mode "default"

}

#########################
## MacOS keybindings
#########################

# switch or start application
bindsym $cmd+space exec --no-startup-id rofi -show combi

# quit application
bindsym $cmd+q kill

# quick switch workspaces
bindsym ctrl+Right workspace next_on_output
bindsym ctrl+Left workspace prev_on_output

# switch to workspace
bindsym ctrl+1 workspace 1
bindsym ctrl+2 workspace 2
bindsym ctrl+3 workspace 3
bindsym ctrl+4 workspace 4
bindsym ctrl+5 workspace 5

# move with focused container to workspace
bindsym shift+ctrl+1 move container to workspace 1; workspace 1
bindsym shift+ctrl+2 move container to workspace 2; workspace 2
bindsym shift+ctrl+3 move container to workspace 3; workspace 3
bindsym shift+ctrl+4 move container to workspace 4; workspace 4
bindsym shift+ctrl+5 move container to workspace 5; workspace 5
