#########################
## Setup
#########################

# aliases
set $meta Mod4
set $alt Mod1

# mouse drags floating windows with this
floating_modifier $alt

# autostart
exec --no-startup-id set-wallpaper

# status bar
bar {
	status_command i3status --config ~/.config/i3status
    position top
}

# window design
new_window pixel 2
new_float normal

# title font, also used by bar unless another is specified
font pango:Dejavu Sans 9

# make pop-ups (hangouts etc.) float
for_window [window_role="pop-up"] floating enable

# tomorrow colours (except blue)
set $blue   #81a2be
set $red    #cc6666
set $green  #b5bd68
set $yellow #f0c674
set $purple #b294bb
set $cyan   #8abeb7
set $orange #de935f
set $black  #1d1f21
set $dgrey  #373b41
set $grey   #969896
set $lgrey  #b4b7b4
set $white  #e0e0e0

# states                    border     background  text
client.focused              $blue      $blue       $black
client.unfocused            $black     $dgrey      $lgrey
client.focused_inactive     $grey      $grey       $black
client.urgent               $purple    $purple     $white


#########################
## General keybindings
#########################

# switch to container or workspace by position
bindsym Ctrl+$alt+h focus left
bindsym Ctrl+$alt+j focus down
bindsym Ctrl+$alt+k focus up
bindsym Ctrl+$alt+l focus right

# move container by position
bindsym Ctrl+$alt+Shift+h move left
bindsym Ctrl+$alt+Shift+j move down
bindsym Ctrl+$alt+Shift+k move up
bindsym Ctrl+$alt+Shift+l move right

# switch to workspace by number
bindsym Ctrl+$alt+grave workspace 0
bindsym Ctrl+$alt+1 workspace 1
bindsym Ctrl+$alt+2 workspace 2
bindsym Ctrl+$alt+3 workspace 3
bindsym Ctrl+$alt+4 workspace 4
bindsym Ctrl+$alt+5 workspace 5

# move container to workspace by number
bindsym Ctrl+$alt+Shift+grave move container to workspace 0; workspace 0
bindsym Ctrl+$alt+Shift+1 move container to workspace 1; workspace 1
bindsym Ctrl+$alt+Shift+2 move container to workspace 2; workspace 2
bindsym Ctrl+$alt+Shift+3 move container to workspace 3; workspace 3
bindsym Ctrl+$alt+Shift+4 move container to workspace 4; workspace 4
bindsym Ctrl+$alt+Shift+5 move container to workspace 5; workspace 5

# quick switch workspace
bindsym Ctrl+$alt+p workspace prev_on_output
bindsym Ctrl+$alt+n workspace next_on_output

# lock screen
bindsym Ctrl+$meta+$alt+space exec --no-startup-id i3lock -n -c 000000 -i ~/.lockscreen.jpg

# screenshot
bindsym --release Print exec --no-startup-id scrot -s

# vertical split (i3 calls this h)
bindsym Ctrl+$alt+bar split h

# horizontal split (i3 calls this v)
bindsym Ctrl+$alt+minus split v

# resize
bindsym Ctrl+$alt+Left resize shrink width 10 px or 10 ppt
bindsym Ctrl+$alt+Down resize grow height 10 px or 10 ppt
bindsym Ctrl+$alt+Up resize shrink height 10 px or 10 ppt
bindsym Ctrl+$alt+Right resize grow width 10 px or 10 ppt

# reload config file
bindsym Ctrl+$alt+r reload

# restart i3
bindsym Ctrl+$alt+Shift+r restart

# exit i3
bindsym Ctrl+$alt+q exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# start a terminal command
bindsym Ctrl+$alt+Return exec termite

# make currently focused window a scratchpad
bindsym Ctrl+$alt+Shift+semicolon move scratchpad

# show first scratchpad window
bindsym Ctrl+$alt+semicolon scratchpad show

# move current workspace to next output
bindsym Ctrl+$alt+x move workspace to output right

# enter fullscreen mode for the focused container
bindsym Ctrl+$alt+f fullscreen

# change container layout
bindsym Ctrl+$alt+t layout tabbed
bindsym Ctrl+$alt+s layout toggle split

# toggle tiling / floating
bindsym Ctrl+$alt+Shift+Tab floating toggle

# change focus between tiling / floating windows
bindsym Ctrl+$alt+Tab focus mode_toggle

# re-run automatic scripts
bindsym Ctrl+$alt+m exec --no-startup-id autorun-scripts

# HDMI sound toggle
bindsym Ctrl+$alt+a exec --no-startup-id hdmi-sound


#########################
## MacOS keybindings
#########################

# switch or start application
bindsym $meta+space exec --no-startup-id rofi -show combi

# quit application
bindsym $meta+q kill

# quick switch workspace (mimic switch applications)
bindsym $meta+Tab focus right
bindsym Shift+$meta+Tab focus left


#########################
## Auto run
#########################
assign [class="Termite"] 0
assign [class="^Google-chrome$"] 1
exec "termite --exec='tmux new-session -A -s general'"
exec google-chrome-stable
